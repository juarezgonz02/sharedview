<!DOCTYPE html>
<html>

<head>

  <title>Realtime communication with WebRTC</title>

  <link rel="stylesheet" href="/css/main.css" />

</head>
<style>
body{
	background-color:#25524c;
text-align: center;

}  
.controler{
    border-radius: 45px;
    background-color:lawngreen;
    width: 75px;
    height: 75px;
    background-image: url(./css/mic-logo.svg);
  }
  .controler_closed{
    border-radius: 45px;
    background-color:rgb(214, 91, 173);
    width: 75px;
    height: 75px;
    background-image: url(./css/mic-logo.svg);
  }
  .controler_waiting{
    border-radius: 45px;
    background-color:rgb(246, 246, 109);
    width: 75px;
    height: 75px;
    background-image: url(./css/mic-logo.svg);
  }
</style>

<body>

<script src="js/hls.min.js"></script>
        <!-- Or if you want a more recent alpha version -->
        <!-- <script src="https://cdn.jsdelivr.net/npm/hls.js@alpha"></script> -->
        <video autoplay controls class="stream-video" id="video"></video>
        <script>
  var video = document.getElementById('video');
  var videoSrc = 'https://sharedview.tk:8800/hls/web.m3u8';
  //
  // First check for native browser HLS support
  //
  if (video.canPlayType('application/vnd.apple.mpegurl')) {
    video.src = videoSrc;
    video.addEventListener('loadedmetadata', function() {
      video.play();
    });
  //
  // If no native HLS support, check if hls.js is supported
  //
  } else if (Hls.isSupported()) {
    var hls = new Hls();
    hls.loadSource(videoSrc);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED, function() {
      video.play();
    });
  }
</script>

  <div id="videos">
    
    <audio controls id="localAudio"></audio>
    <div class="controler_waiting" id="controler"></div>
    <audio controls autoplay id="remoteAudio">
    
    Your browser does not support the audio element.
    </audio>
  </div>

  <!-- This file is automatically added/served when running "node index.js". -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
  <script src="js/main.js"></script>
  <script src="js/audio.js"></script>

</body>

</html>
